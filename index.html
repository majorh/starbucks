<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Zero Sugar Starbucks</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0d1a12;--surface:#132019;--card:#1a2d21;--card-hover:#1e3226;
  --green:#00a862;--green-light:#00c975;--green-glow:rgba(0,168,98,.15);
  --cream:#f5f0e8;--muted:#7a9e87;--border:rgba(0,168,98,.18);
}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html,body{height:100%;overflow:hidden}
body{background:var(--bg);color:var(--cream);font-family:'DM Sans',sans-serif}

/* â”€â”€ SCREENS â”€â”€ */
.screen{position:fixed;inset:0;display:flex;flex-direction:column;background:var(--bg);transition:transform .32s cubic-bezier(.4,0,.2,1);will-change:transform;overflow:hidden}
#listScreen{transform:translateX(0)}
#detailScreen{transform:translateX(100%)}
#detailScreen.open{transform:translateX(0)}
#shareScreen{transform:translateX(100%)}
#shareScreen.open{transform:translateX(0)}

/* â”€â”€ LIST SCREEN â”€â”€ */
.list-header{padding:44px 20px 20px;background:linear-gradient(180deg,#0a1510 0%,var(--bg) 100%);text-align:center;flex-shrink:0;position:relative}
.list-header::after{content:'';position:absolute;top:-80px;left:50%;transform:translateX(-50%);width:320px;height:320px;background:radial-gradient(circle,rgba(0,168,98,.14) 0%,transparent 65%);pointer-events:none}
.logo-ring{width:52px;height:52px;border:1.5px solid var(--green);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:22px;box-shadow:0 0 18px var(--green-glow)}
.list-header h1{font-family:'Playfair Display',serif;font-size:24px;font-weight:700;line-height:1.2}
.list-header h1 em{color:var(--green-light);font-style:normal}
.list-header p{color:var(--muted);font-size:11.5px;margin-top:6px}

.search-bar{flex-shrink:0;padding:10px 16px;background:var(--bg);border-bottom:1px solid var(--border)}
.search-inner{position:relative}
.search-input{width:100%;background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:10px 14px 10px 38px;color:var(--cream);font-family:'DM Sans',sans-serif;font-size:14px;outline:none}
.search-input::placeholder{color:var(--muted)}
.search-input:focus{border-color:var(--green)}
.s-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:15px;pointer-events:none}

.tabs-row{flex-shrink:0;overflow-x:auto;padding:10px 16px;scrollbar-width:none;border-bottom:1px solid var(--border)}
.tabs-row::-webkit-scrollbar{display:none}
.tabs-inner{display:flex;gap:7px;width:max-content}
.tab{background:transparent;border:1px solid var(--border);border-radius:20px;padding:5px 13px;font-size:12px;font-weight:500;color:var(--muted);cursor:pointer;white-space:nowrap;transition:all .18s;user-select:none;font-family:'DM Sans',sans-serif}
.tab.on{background:var(--green);border-color:var(--green);color:#000;font-weight:600}

.list-scroll{flex:1;overflow-y:auto;padding:12px 16px 80px;-webkit-overflow-scrolling:touch}
.list-scroll::-webkit-scrollbar{display:none}

.cat-label{font-size:10px;font-weight:600;letter-spacing:1.2px;text-transform:uppercase;color:var(--muted);padding:16px 0 8px}
.cat-label:first-child{padding-top:4px}

/* â”€â”€ DRINK ROW â”€â”€ */
.drink-row{display:flex;align-items:center;gap:14px;padding:12px 14px;background:var(--card);border:1px solid var(--border);border-radius:14px;margin-bottom:8px;cursor:pointer;transition:background .15s}
.drink-row:active{background:var(--card-hover)}
.row-emoji{font-size:28px;width:42px;text-align:center;flex-shrink:0}
.row-body{flex:1;min-width:0}
.row-name{font-size:14px;font-weight:600;color:var(--cream);margin-bottom:3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.row-name.mod{color:var(--green-light)}
.row-tags{display:flex;gap:4px;flex-wrap:nowrap;overflow:hidden}
.tag{font-size:10px;font-weight:500;padding:2px 7px;border-radius:8px;white-space:nowrap}
.tz{background:rgba(0,168,98,.15);color:var(--green-light);border:1px solid rgba(0,168,98,.28)}
.tm{background:rgba(255,180,0,.1);color:#ffc94d;border:1px solid rgba(255,180,0,.22)}
.th{background:rgba(255,100,50,.1);color:#ff8c6b;border:1px solid rgba(255,100,50,.18)}
.tc{background:rgba(50,150,255,.1);color:#7ab8ff;border:1px solid rgba(50,150,255,.18)}
.tf{background:rgba(180,130,255,.1);color:#c9a8ff;border:1px solid rgba(180,130,255,.18)}
.row-arrow{color:var(--muted);font-size:12px;flex-shrink:0}
.sugar-pill{font-size:10px;padding:2px 7px;border-radius:8px;white-space:nowrap;margin-top:4px;display:inline-block}
.sp0{background:rgba(0,168,98,.12);color:var(--green-light);border:1px solid rgba(0,168,98,.22)}
.splow{background:rgba(255,180,0,.08);color:#ffc94d;border:1px solid rgba(255,180,0,.18)}

.empty{text-align:center;padding:48px 20px;color:var(--muted);display:none}
.empty.on{display:block}

/* â”€â”€ BOTTOM BAR â”€â”€ */
.bottom-bar{position:absolute;bottom:0;left:0;right:0;background:rgba(13,26,18,.95);backdrop-filter:blur(12px);border-top:1px solid var(--border);padding:10px 16px;display:flex;align-items:center;justify-content:space-between;z-index:10}
.bbt{font-size:11px;color:var(--muted);line-height:1.4}
.btn-app{background:var(--green);color:#000;border:none;border-radius:10px;padding:8px 16px;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:5px}

/* â”€â”€ DETAIL SCREEN â”€â”€ */
.detail-nav{display:flex;align-items:center;gap:12px;padding:52px 16px 16px;flex-shrink:0}
.back-btn{display:flex;align-items:center;gap:6px;color:var(--green);font-size:14px;font-weight:600;cursor:pointer;background:none;border:none;font-family:'DM Sans',sans-serif;padding:0}
.back-btn span{font-size:18px;line-height:1}

.detail-scroll{flex:1;overflow-y:auto;padding:0 20px 100px;-webkit-overflow-scrolling:touch}
.detail-scroll::-webkit-scrollbar{display:none}

.detail-hero{text-align:center;padding:20px 0 28px;border-bottom:1px solid var(--border);margin-bottom:24px}
.detail-emoji{font-size:64px;margin-bottom:16px;display:block}
.detail-name{font-family:'Playfair Display',serif;font-size:26px;font-weight:700;line-height:1.2;margin-bottom:10px}
.detail-name.mod{color:var(--green-light)}
.detail-tags{display:flex;justify-content:center;flex-wrap:wrap;gap:6px;margin-bottom:14px}
.detail-sugar{display:inline-flex;align-items:center;gap:5px;font-size:12px;padding:4px 12px;border-radius:20px}
.detail-desc{font-size:14px;color:var(--muted);line-height:1.65;margin-top:14px;text-align:left}

.section-label{font-size:10px;font-weight:600;letter-spacing:1.2px;text-transform:uppercase;color:var(--green);margin-bottom:8px}
.info-box{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:14px;font-size:13px;line-height:1.65;color:var(--cream);margin-bottom:20px}
.info-box strong{color:var(--green-light);font-weight:500}
.warn-box{background:rgba(255,180,0,.06);border-left:2px solid rgba(255,180,0,.4);border-radius:0 8px 8px 0;padding:10px 12px;font-size:12px;color:var(--muted);line-height:1.55;margin-bottom:20px}
.milk-box{background:rgba(0,168,98,.07);border:1px solid rgba(0,168,98,.2);border-radius:12px;padding:12px 14px;font-size:12.5px;line-height:1.6;color:var(--cream);margin-bottom:20px}
.milk-box strong{color:var(--green-light)}

.detail-actions{display:flex;gap:10px;margin-top:4px}
.btn-primary{flex:1;background:var(--green);color:#000;border:none;border-radius:12px;padding:14px;font-family:'DM Sans',sans-serif;font-size:14px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:7px}
.btn-primary:active{opacity:.85}
.btn-secondary{flex:0 0 auto;background:var(--surface);color:var(--cream);border:1px solid var(--border);border-radius:12px;padding:14px 16px;font-family:'DM Sans',sans-serif;font-size:18px;cursor:pointer}
.btn-secondary:active{background:var(--card-hover)}

/* â”€â”€ SHARE SCREEN â”€â”€ */
.share-nav{display:flex;align-items:center;padding:52px 16px 16px;flex-shrink:0}
.share-scroll{flex:1;overflow-y:auto;padding:0 20px 40px}
.share-scroll::-webkit-scrollbar{display:none}
.share-title{font-family:'Playfair Display',serif;font-size:22px;margin-bottom:4px}
.share-sub{font-size:13px;color:var(--muted);margin-bottom:22px}
.share-card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;margin-bottom:22px}
.sc-name{font-weight:700;font-size:16px;color:var(--green-light);margin-bottom:5px}
.sc-desc{font-size:12px;color:var(--muted);margin-bottom:10px;line-height:1.45}
.sc-order{font-size:12px;color:var(--cream);background:var(--surface);padding:10px 12px;border-radius:8px;border:1px solid var(--border);line-height:1.55}
.share-options{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.share-opt{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:18px 12px;cursor:pointer;text-align:center;transition:all .15s;font-family:'DM Sans',sans-serif}
.share-opt:active{background:var(--card-hover);border-color:var(--green)}
.so-icon{font-size:26px;margin-bottom:7px}
.so-label{font-size:12px;font-weight:600;color:var(--cream)}
.so-sub{font-size:10px;color:var(--muted);margin-top:2px}

/* â”€â”€ TOAST â”€â”€ */
.toast{position:fixed;bottom:80px;left:50%;transform:translateX(-50%);background:var(--green);color:#000;padding:9px 18px;border-radius:20px;font-weight:600;font-size:13px;z-index:9999;pointer-events:none;opacity:0;transition:opacity .25s;white-space:nowrap}
.toast.on{opacity:1}
</style>
</head>
<body>

<!-- â•â•â•â• LIST SCREEN â•â•â•â• -->
<div class="screen" id="listScreen">
  <div class="list-header">
    <div class="logo-ring">â˜•</div>
    <h1>Zero Sugar<br><em>Starbucks Guide</em></h1>
    <p>2025/2026 national menu Â· No added sugars</p>
  </div>

  <div class="search-bar">
    <div class="search-inner">
      <span class="s-icon">ğŸ”</span>
      <input class="search-input" type="text" placeholder="Search drinksâ€¦" id="searchInput" oninput="doSearch(this.value)">
    </div>
  </div>

  <div class="tabs-row">
    <div class="tabs-inner" id="tabsInner">
      <div class="tab on" onclick="setTab('all',this)">All</div>
      <div class="tab" onclick="setTab('hc',this)">â˜• Hot Coffee</div>
      <div class="tab" onclick="setTab('ic',this)">ğŸ§Š Iced Coffee</div>
      <div class="tab" onclick="setTab('cb',this)">ğŸŒ¬ï¸ Cold Brew</div>
      <div class="tab" onclick="setTab('ht',this)">ğŸµ Hot Tea</div>
      <div class="tab" onclick="setTab('it',this)">ğŸ§Š Iced Tea</div>
      <div class="tab" onclick="setTab('tl',this)">ğŸ«– Tea Lattes</div>
    </div>
  </div>

  <div class="list-scroll" id="listScroll">
    <!-- rendered by JS -->
    <div class="empty" id="emptyState">
      <div style="font-size:36px;margin-bottom:10px">ğŸŒ¿</div>
      <p>No drinks found</p>
    </div>
  </div>

  <div class="bottom-bar">
    <div class="bbt"><strong style="color:var(--cream)">Ready to order?</strong><br>Open the Starbucks app</div>
    <button class="btn-app" onclick="openSbux()">Open App â†—</button>
  </div>
</div>

<!-- â•â•â•â• DETAIL SCREEN â•â•â•â• -->
<div class="screen" id="detailScreen">
  <div class="detail-nav">
    <button class="back-btn" onclick="goBack('detailScreen')"><span>â€¹</span> All Drinks</button>
  </div>
  <div class="detail-scroll" id="detailScroll">
    <!-- filled dynamically -->
  </div>
</div>

<!-- â•â•â•â• SHARE SCREEN â•â•â•â• -->
<div class="screen" id="shareScreen">
  <div class="share-nav">
    <button class="back-btn" onclick="goBack('shareScreen')"><span>â€¹</span> Back</button>
  </div>
  <div class="share-scroll" id="shareScroll">
    <!-- filled dynamically -->
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DATA = [
  { cat:'hc', catName:'Hot Coffees', drinks:[
    { name:'Pike Place / Drip Coffee', e:'â˜•', desc:'Starbucks\' signature medium roast, brewed fresh every 30 minutes. Bold, smooth, and completely clean. The simplest zero-sugar order on the menu.', tags:['z','h'], ms:'0g sugar', msc:'sp0', order:'Pike Place roast, black â€” no milk, no syrup.', app:'Select <strong>Brewed Coffee</strong> â†’ Milk: None â†’ Sweeteners: remove all.', note:null, mr:null },
    { name:'CaffÃ¨ Americano', e:'ğŸ–¤', desc:'Espresso shots diluted with hot water. You get the bold depth of espresso with a lighter, less intense body. One of the cleanest drinks on the menu.', tags:['z','h'], ms:'0g sugar', msc:'sp0', order:'CaffÃ¨ Americano â€” no syrup, no milk.', app:'Select <strong>CaffÃ¨ Americano</strong> â†’ Milk: None â†’ Flavors: remove all.', note:null, mr:null },
    { name:'Espresso Shot(s)', e:'âš¡', desc:'Pure concentrated espresso. Intensely rich with notes of caramel and dark chocolate. Two shots is the standard double. For the purist.', tags:['z','h'], ms:'0g sugar', msc:'sp0', order:'Double shot of espresso â€” nothing added.', app:'Select <strong>Espresso</strong> from the menu.', note:null, mr:null },
    { name:'Espresso Macchiato', e:'ğŸ¤', desc:'Espresso "marked" with just a small dollop of milk foam. Gives you intensity from the espresso with the faintest whisper of creaminess.', tags:['z','h'], ms:'~0g sugar', msc:'sp0', order:'Espresso Macchiato â€” no syrup.', app:'Select <strong>Espresso Macchiato</strong> â†’ Flavors: remove all.', note:null, mr:null },
    { name:'Cappuccino', e:'â˜ï¸', desc:'Equal parts espresso, steamed milk, and thick, velvety foam. The Italian classic. Swapping to almond milk keeps sugar low while maintaining the creamy texture.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Cappuccino â€” almond milk, no syrup.', app:'Select <strong>Cappuccino</strong> â†’ Milk: Almond Milk â†’ Flavors: remove all.', note:null, mr:'Almond milk (~5g/cup) is the lowest-sugar steaming option at Starbucks. For near-zero sugar, sub <strong>heavy cream</strong>, though the texture will change.' },
    { name:'CaffÃ¨ Latte', e:'ğŸ¥›', desc:'Smooth espresso with steamed milk and a light layer of foam. The everyday classic, made clean by swapping to almond milk and skipping the syrup.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'CaffÃ¨ Latte â€” almond milk, no syrup.', app:'Select <strong>CaffÃ¨ Latte</strong> â†’ Milk: Almond Milk â†’ Flavors: remove all.', note:null, mr:'Almond milk (~5g) is lowest. For near-zero sugar, ask for a <strong>splash of heavy cream</strong> instead (~1g).' },
    { name:'Flat White', e:'ğŸŒ€', desc:'Ristretto shots â€” which are shorter and more concentrated â€” over velvety microfoam. Stronger and silkier than a latte.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Flat White â€” almond milk, no syrup.', app:'Select <strong>Flat White</strong> â†’ Milk: Almond Milk â†’ Flavors: remove all.', note:null, mr:'Almond milk (~5g) is lowest. Sub <strong>heavy cream splash</strong> for near-zero.' },
    { name:'CaffÃ¨ Misto', e:'ğŸ«—', desc:'Half brewed drip coffee, half steamed milk. Lighter than a latte with the familiar flavor of a great cup of coffee. Only half a cup of milk means lower sugar.', tags:['z','h','m'], ms:'~2.5g sugar (almond milk)', msc:'splow', order:'CaffÃ¨ Misto â€” almond milk, no syrup.', app:'Select <strong>CaffÃ¨ Misto</strong> â†’ Milk: Almond Milk.', note:null, mr:'Half cup of almond milk means only ~2.5g sugar. Sub <strong>half heavy cream</strong> for near-zero.' },
    { name:'Sugar-Free Vanilla Latte', e:'âœ¨', desc:'A sweet, creamy latte without the sugar. Uses sucralose-sweetened sugar-free vanilla syrup to deliver that classic vanilla latte flavor.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'CaffÃ¨ Latte â€” almond milk, sugar-free vanilla syrup, no other syrups.', app:'Select <strong>CaffÃ¨ Latte</strong> â†’ Milk: Almond Milk â†’ Flavors: Sugar-Free Vanilla Syrup, remove all others.', note:'Sugar-free vanilla syrup is available at most locations but can occasionally be out of stock. If unavailable, ask for a plain almond milk latte, or add Stevia/Splenda from the condiment bar.', mr:'Almond milk (~5g). For near-zero: <strong>heavy cream + sugar-free vanilla</strong>.' },
    { name:'Sugar-Free Caramel Latte', e:'ğŸ®', desc:'New as of January 2026 â€” sugar-free caramel syrup is now a year-round menu item. Warm, buttery caramel flavor without any added sugar.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'CaffÃ¨ Latte â€” almond milk, sugar-free caramel syrup, no other syrups.', app:'Select <strong>CaffÃ¨ Latte</strong> â†’ Milk: Almond Milk â†’ Flavors: Sugar-Free Caramel Syrup, remove all others.', note:'Sugar-free caramel was added to the year-round menu in January 2026. Confirm availability with your barista as some locations may still be stocking it.', mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero.' },
    { name:'DIY Sugar-Free Chai Latte', e:'ğŸŒ¶ï¸', desc:'All the warm spice of chai â€” cinnamon, ginger, cardamom â€” without the 42g of sugar hiding in the standard version. Made with the plain tea bag, not the sweetened concentrate.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Chai tea bag steeped in steamed almond milk â€” add sugar-free vanilla syrup and cinnamon powder.', app:'Select <strong>Hot Tea â†’ Chai Tea</strong> and add a note: "Steam with almond milk, add sugar-free vanilla, add cinnamon. No concentrate."', note:'âš ï¸ The standard Chai Latte uses a pre-sweetened concentrate with 42g of sugar. You must request the tea bag method specifically. Give the barista a heads-up on busy days as it takes a bit longer.', mr:'Almond milk (~5g) works best here for steaming and texture.' },
  ]},
  { cat:'ic', catName:'Iced Coffees', drinks:[
    { name:'Iced CaffÃ¨ Americano', e:'ğŸ–¤', desc:'Bold espresso shots over ice with cold water. Crisp, refreshing, and completely clean. A great all-day drink.', tags:['z','c'], ms:'0g sugar', msc:'sp0', order:'Iced CaffÃ¨ Americano â€” no syrup, no milk.', app:'Select <strong>Iced CaffÃ¨ Americano</strong> â†’ Milk: None â†’ Flavors: remove all.', note:null, mr:null },
    { name:'Iced CaffÃ¨ Latte', e:'ğŸ¥¤', desc:'Espresso and cold milk poured over ice. Smooth and satisfying â€” made clean by using almond milk and skipping the syrup.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Iced CaffÃ¨ Latte â€” almond milk, no syrup.', app:'Select <strong>Iced CaffÃ¨ Latte</strong> â†’ Milk: Almond Milk â†’ Flavors: remove all.', note:null, mr:'Almond milk (~5g). Sub <strong>heavy cream splash</strong> for near-zero.' },
    { name:'Iced Flat White', e:'ğŸ’ ', desc:'Ristretto shots over ice â€” more concentrated espresso than an iced latte, with a silkier texture and more punch.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Iced Flat White â€” almond milk, no syrup.', app:'Select <strong>Iced Flat White</strong> â†’ Milk: Almond Milk â†’ Flavors: remove all.', note:null, mr:'Almond milk (~5g). Sub <strong>heavy cream splash</strong> for near-zero.' },
    { name:'Iced Coffee (Sugar-Free)', e:'ğŸ¦', desc:'Chilled brewed coffee over ice. The default classic syrup is swapped out for sugar-free vanilla to keep it clean.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Iced Coffee â€” almond milk, no classic syrup, sugar-free vanilla syrup.', app:'Select <strong>Iced Coffee</strong> â†’ Milk: Almond Milk â†’ Sweeteners: remove Classic Syrup â†’ Flavors: Sugar-Free Vanilla Syrup.', note:'âš ï¸ Iced Coffee automatically includes classic syrup by default. Always confirm "no classic syrup."', mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero.' },
    { name:'Iced Sugar-Free Vanilla Latte', e:'ğŸŒŸ', desc:'Cold espresso with almond milk and sugar-free vanilla over ice. Creamy, subtly sweet, and satisfying â€” without the sugar.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Iced CaffÃ¨ Latte â€” almond milk, sugar-free vanilla syrup, no other syrups.', app:'Select <strong>Iced CaffÃ¨ Latte</strong> â†’ Milk: Almond Milk â†’ Flavors: Sugar-Free Vanilla Syrup, remove all others.', note:null, mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero.' },
    { name:'Iced Shaken Espresso (Sugar-Free)', e:'ğŸ¥Š', desc:'Espresso shaken vigorously with ice until frothy and slightly diluted. The brown sugar syrup is replaced with sugar-free vanilla for a clean version of this popular drink.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Iced Shaken Espresso â€” almond milk, sugar-free vanilla syrup, no brown sugar syrup.', app:'Select <strong>Iced Shaken Espresso</strong> â†’ Milk: Almond Milk â†’ Flavors: remove Brown Sugar Syrup, add Sugar-Free Vanilla Syrup.', note:'âš ï¸ Brown Sugar Syrup is not available in a sugar-free version and must be removed entirely. The flavor profile will be slightly different.', mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero, though it changes texture significantly.' },
  ]},
  { cat:'cb', catName:'Cold Brew & Nitro', drinks:[
    { name:'Cold Brew (Black)', e:'ğŸŒŠ', desc:'Steeped in cold water for 20 hours, never heated. Incredibly smooth with a natural sweetness and zero bitterness. Completely clean and one of the best zero-sugar options on the menu.', tags:['z','c'], ms:'0g sugar', msc:'sp0', order:'Cold Brew â€” black, no classic syrup.', app:'Select <strong>Cold Brew</strong> â†’ Milk: None â†’ Sweeteners: remove Classic Syrup.', note:'âš ï¸ Classic syrup is added to Cold Brew by default at many locations. Always explicitly say "no classic syrup."', mr:null },
    { name:'Nitro Cold Brew', e:'ğŸ«§', desc:'Cold brew infused with nitrogen on tap. The nitrogen gives it a creamy, velvety texture and a subtle natural sweetness â€” all with zero sugar. One of the best drinks on the entire Starbucks menu, full stop.', tags:['z','c'], ms:'0g sugar', msc:'sp0', order:'Nitro Cold Brew â€” nothing added. Order as-is.', app:'Select <strong>Nitro Cold Brew</strong> â€” no modifications needed. Do not add anything.', note:'Available at most corporate Starbucks. May not be available at licensed locations (airports, grocery stores, hotel lobbies, etc.).', mr:null },
    { name:'Cold Brew + Heavy Cream', e:'ğŸŒ«ï¸', desc:'Cold brew with a splash of heavy cream poured over the top. Rich, creamy, and the single best near-zero-sugar milk option at Starbucks. A popular keto-friendly order.', tags:['z','c','m'], ms:'~1g sugar (heavy cream)', msc:'sp0', order:'Cold Brew â€” splash of heavy cream, no classic syrup.', app:'Select <strong>Cold Brew</strong> â†’ Milk: Heavy Cream â†’ Sweeteners: remove Classic Syrup.', note:'Heavy cream is the best low-sugar milk option at Starbucks (~1g per 2 tbsp). Baristas can pour generously â€” say "light splash" if you want less.', mr:null },
  ]},
  { cat:'ht', catName:'Hot Teas', drinks:[
    { name:'Mint Majesty', e:'ğŸŒ¿', desc:'A blend of peppermint and spearmint. Refreshing, cooling, and calming. Naturally caffeine-free and completely sugar-free â€” just hot water and herbs.', tags:['z','h','f'], ms:'0g sugar', msc:'sp0', order:'Mint Majesty â€” hot water and tea bag only. No syrup.', app:'Select <strong>Mint Majesty</strong> under Hot Teas. No modifications needed.', note:null, mr:null },
    { name:'Peach Tranquility', e:'ğŸ‘', desc:'A fruity herbal blend of peach, rose hips, and chamomile. Naturally sweet-smelling and caffeine-free. Zero sugar with no modifications needed.', tags:['z','h','f'], ms:'0g sugar', msc:'sp0', order:'Peach Tranquility â€” hot water and tea bag only. No syrup.', app:'Select <strong>Peach Tranquility</strong> under Hot Teas. No modifications needed.', note:null, mr:null },
    { name:"Emperor's Clouds & Mist", e:'ğŸŒ«ï¸', desc:'A Chinese green tea with a delicate, misty flavor profile. Light, slightly vegetal, and refreshing. Zero sugar as-is.', tags:['z','h'], ms:'0g sugar', msc:'sp0', order:"Emperor's Clouds & Mist â€” hot water and tea bag only. No syrup.", app:"Select <strong>Emperor's Clouds & Mist</strong> under Hot Teas. No modifications.", note:null, mr:null },
    { name:'Royal English Breakfast', e:'ğŸ«–', desc:'A robust, full-bodied black tea blend with a rich malty character. The classic British morning tea. Zero sugar without any syrup.', tags:['z','h'], ms:'0g sugar', msc:'sp0', order:'Royal English Breakfast Tea â€” hot water and tea bag only. No syrup.', app:'Select <strong>Royal English Breakfast</strong> â†’ Sweeteners: remove all.', note:null, mr:null },
    { name:'Jade Citrus Mint', e:'ğŸƒ', desc:'Green tea with spearmint, lemongrass, and lemon verbena. Bright, herbal, and gently refreshing. Zero sugar.', tags:['z','h'], ms:'0g sugar', msc:'sp0', order:'Jade Citrus Mint â€” hot water and tea bag only. No syrup.', app:'Select <strong>Jade Citrus Mint</strong> under Hot Teas â†’ Sweeteners: remove all.', note:null, mr:null },
    { name:'Chai Tea (Bag Only)', e:'ğŸŒ¶ï¸', desc:'The plain chai spice tea bag in hot water. Naturally warming with cinnamon, ginger, and cardamom. Zero sugar â€” completely different from the Chai Latte.', tags:['z','h'], ms:'0g sugar', msc:'sp0', order:'Chai Tea â€” hot water and tea bag only. NOT the Chai Latte.', app:'Select <strong>Chai Tea</strong> under Hot Teas (not Chai Latte). No modifications.', note:'âš ï¸ The Chai Latte uses a pre-sweetened concentrate with 42g of sugar. Request "plain chai tea bag, just hot water" to get this zero-sugar version.', mr:null },
  ]},
  { cat:'it', catName:'Iced Teas', drinks:[
    { name:'Iced Black Tea (Unsweetened)', e:'ğŸ–¤', desc:'Chilled black tea poured over ice. Bold, slightly tannic, and completely clean when ordered without the default syrup.', tags:['z','c'], ms:'0g sugar', msc:'sp0', order:'Iced Black Tea â€” unsweetened, no classic syrup.', app:'Select <strong>Iced Black Tea</strong> â†’ Sweeteners: remove Classic Syrup â†’ "Unsweetened."', note:'âš ï¸ All iced teas at Starbucks come sweetened by default. Always say "unsweetened, no classic syrup."', mr:null },
    { name:'Iced Green Tea (Unsweetened)', e:'ğŸ’š', desc:'Light, grassy green tea over ice. Delicate and refreshing. Completely clean when ordered without the default classic syrup.', tags:['z','c'], ms:'0g sugar', msc:'sp0', order:'Iced Green Tea â€” unsweetened, no classic syrup.', app:'Select <strong>Iced Green Tea</strong> â†’ Sweeteners: remove Classic Syrup â†’ "Unsweetened."', note:'âš ï¸ Comes sweetened by default. Always specify "unsweetened, no classic syrup."', mr:null },
    { name:'Iced Passion Tango Herbal Tea', e:'ğŸŒº', desc:'A hibiscus, lemongrass, and apple herbal blend over ice. Vibrantly pink, fruity, naturally tart, caffeine-free, and completely zero sugar when unsweetened.', tags:['z','c','f'], ms:'0g sugar', msc:'sp0', order:'Iced Passion Tango Tea â€” unsweetened, no classic syrup.', app:'Select <strong>Iced Passion Tango Tea</strong> â†’ Sweeteners: remove Classic Syrup â†’ "Unsweetened."', note:'âš ï¸ Comes sweetened by default. Always specify "unsweetened, no classic syrup."', mr:null },
  ]},
  { cat:'tl', catName:'Tea Lattes', drinks:[
    { name:'Sugar-Free London Fog Latte', e:'ğŸ«§', desc:'Earl Grey tea steeped in warm steamed almond milk with sugar-free vanilla. Floral, creamy, and elegant. A sophisticated low-sugar option.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'London Fog Tea Latte â€” almond milk, sugar-free vanilla syrup, no regular vanilla syrup.', app:'Select <strong>London Fog Tea Latte</strong> â†’ Milk: Almond Milk â†’ Flavors: replace Vanilla Syrup with Sugar-Free Vanilla Syrup.', note:null, mr:'Almond milk (~5g) is the lowest-sugar steaming option available at Starbucks.' },
    { name:'DIY Iced Sugar-Free Chai Latte', e:'ğŸ§Š', desc:'The iced version of the DIY chai. Cold chai spice tea with almond milk and sugar-free vanilla over ice â€” without the 42g of sugar hiding in the standard version.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'splow', order:'Chai tea bag over ice in almond milk â€” sugar-free vanilla syrup, cinnamon powder.', app:'Order an <strong>Iced Chai Tea Latte</strong> and add a note: "Tea bag method, not concentrate. Almond milk, sugar-free vanilla syrup, cinnamon."', note:'âš ï¸ Standard Iced Chai Latte uses a pre-sweetened concentrate (42g sugar). You must request the tea bag method explicitly.', mr:'Almond milk (~5g) is the best cold milk option for this drink.' },
  ]},
];

const TAGS = { z:{c:'tz',l:'0 Sugar'}, h:{c:'th',l:'Hot'}, c:{c:'tc',l:'Cold'}, m:{c:'tm',l:'Modified'}, f:{c:'tf',l:'Caffeine-Free'} };
let activeCat = 'all';
let activeDrink = null;

// â”€â”€ RENDER LIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderList(filter='', cat='all') {
  const scroll = document.getElementById('listScroll');
  const empty = document.getElementById('emptyState');
  let html = '';
  let count = 0;

  DATA.forEach(section => {
    if(cat !== 'all' && section.cat !== cat) return;
    const rows = section.drinks.filter(d => !filter || (d.name+d.desc).toLowerCase().includes(filter));
    if(!rows.length) return;
    const showLabel = cat === 'all';
    if(showLabel) html += `<div class="cat-label">${section.catName}</div>`;
    rows.forEach(d => {
      const tags = d.tags.map(t=>{ const m=TAGS[t]; return m?`<span class="tag ${m.c}">${m.l}</span>`:'';}).join('');
      const nm = d.tags.includes('m') ? 'row-name mod' : 'row-name';
      html += `
      <div class="drink-row" onclick="openDetail(${DATA.indexOf(section)},${section.drinks.indexOf(d)})">
        <div class="row-emoji">${d.e}</div>
        <div class="row-body">
          <div class="${nm}">${d.name}</div>
          <div class="row-tags">${tags}</div>
          <span class="sugar-pill ${d.msc}">${d.ms}</span>
        </div>
        <div class="row-arrow">â€º</div>
      </div>`;
      count++;
    });
  });

  // clear old rows (keep empty state div)
  Array.from(scroll.children).forEach(c=>{ if(c.id!=='emptyState') c.remove(); });
  scroll.insertAdjacentHTML('afterbegin', html);
  empty.classList.toggle('on', count === 0);
}

// â”€â”€ OPEN DETAIL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openDetail(si, di) {
  const d = DATA[si].drinks[di];
  activeDrink = d;
  const tags = d.tags.map(t=>{ const m=TAGS[t]; return m?`<span class="tag ${m.c}">${m.l}</span>`:'';}).join('');
  const nm = d.tags.includes('m') ? 'detail-name mod' : 'detail-name';

  document.getElementById('detailScroll').innerHTML = `
    <div class="detail-hero">
      <span class="detail-emoji">${d.e}</span>
      <div class="${nm}">${d.name}</div>
      <div class="detail-tags">${tags}</div>
      <span class="detail-sugar ${d.msc}">ğŸ¬ ${d.ms}</span>
      <p class="detail-desc">${d.desc}</p>
    </div>

    ${d.mr ? `<div class="milk-box">ğŸ¥› <strong>Milk note:</strong> ${d.mr}</div>` : ''}

    <div class="section-label">How to order</div>
    <div class="info-box">${d.order}</div>

    <div class="section-label">In the Starbucks App</div>
    <div class="info-box">${d.app}</div>

    ${d.note ? `<div class="warn-box">${d.note}</div>` : ''}

    <div class="detail-actions">
      <button class="btn-primary" onclick="openSbux()">â˜• Open Starbucks App</button>
      <button class="btn-secondary" title="Copy order" onclick="doCopy('${escJ(d.order)}',this)">ğŸ“‹</button>
      <button class="btn-secondary" title="Share" onclick="openShareScreen()">ğŸ“¤</button>
    </div>
  `;

  document.getElementById('detailScroll').scrollTop = 0;
  document.getElementById('detailScreen').classList.add('open');
}

// â”€â”€ SHARE SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openShareScreen() {
  const d = activeDrink;
  document.getElementById('shareScroll').innerHTML = `
    <div class="share-title">Share this drink</div>
    <div class="share-sub">Send the order to a friend</div>
    <div class="share-card">
      <div class="sc-name">${d.e} ${d.name}</div>
      <div class="sc-desc">${d.desc}</div>
      <div class="sc-order">How to order: ${d.order}</div>
    </div>
    <div class="share-options">
      <div class="share-opt" onclick="doShare('copy')"><div class="so-icon">ğŸ“‹</div><div class="so-label">Copy Text</div><div class="so-sub">Paste anywhere</div></div>
      <div class="share-opt" onclick="doShare('native')"><div class="so-icon">ğŸ“¤</div><div class="so-label">Share Sheet</div><div class="so-sub">Messages, Mailâ€¦</div></div>
      <div class="share-opt" onclick="doShare('sms')"><div class="so-icon">ğŸ’¬</div><div class="so-label">Text Message</div><div class="so-sub">Open in Messages</div></div>
      <div class="share-opt" onclick="doShare('email')"><div class="so-icon">âœ‰ï¸</div><div class="so-label">Email</div><div class="so-sub">Open in Mail</div></div>
    </div>
  `;
  document.getElementById('shareScroll').scrollTop = 0;
  document.getElementById('shareScreen').classList.add('open');
}

// â”€â”€ NAVIGATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goBack(screenId) {
  document.getElementById(screenId).classList.remove('open');
}

// â”€â”€ FILTER / TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function setTab(cat, el) {
  activeCat = cat;
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('on'));
  el.classList.add('on');
  document.getElementById('searchInput').value = '';
  renderList('', cat);
}

function doSearch(q) {
  document.querySelectorAll('.tab').forEach((t,i)=>i===0?t.classList.add('on'):t.classList.remove('on'));
  activeCat = 'all';
  renderList(q.toLowerCase().trim(), 'all');
}

// â”€â”€ ACTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function doCopy(text, btn) {
  navigator.clipboard.writeText(text).then(()=>{
    const orig = btn.textContent;
    btn.textContent='âœ“';
    setTimeout(()=>btn.textContent=orig, 2000);
  });
}

function doShare(method) {
  const d = activeDrink;
  const text = `â˜• Zero Sugar Starbucks: ${d.name}\n\n${d.desc}\n\nHow to order:\n${d.order}\n\nIn the app:\n${d.app.replace(/<[^>]+>/g,'')}`;
  const sub = `Zero Sugar Starbucks: ${d.name}`;
  document.getElementById('shareScreen').classList.remove('open');
  if(method==='copy'){ navigator.clipboard.writeText(text).then(()=>showToast('Copied!')); }
  else if(method==='native'&&navigator.share){ navigator.share({title:sub,text}).catch(()=>{}); }
  else if(method==='native'){ navigator.clipboard.writeText(text).then(()=>showToast('Copied â€” paste to share!')); }
  else if(method==='sms'){ window.location=`sms:?body=${encodeURIComponent(text)}`; }
  else if(method==='email'){ window.location=`mailto:?subject=${encodeURIComponent(sub)}&body=${encodeURIComponent(text)}`; }
}

function openSbux() {
  const ios=/iPad|iPhone|iPod/.test(navigator.userAgent);
  const and=/Android/.test(navigator.userAgent);
  if(ios){window.location='starbucks://';setTimeout(()=>window.location='https://apps.apple.com/us/app/starbucks/id331177714',1200);}
  else if(and){window.location='intent://open#Intent;scheme=starbucks;package=com.starbucks.mobilecard;end';setTimeout(()=>window.location='https://play.google.com/store/apps/details?id=com.starbucks.mobilecard',1200);}
  else{window.open('https://app.starbucks.com/','_blank');}
}

function showToast(msg) {
  const t=document.getElementById('toast');
  t.textContent=msg; t.classList.add('on');
  setTimeout(()=>t.classList.remove('on'),2400);
}

function escJ(s){ return s.replace(/'/g,"\\'"); }

// Handle Android back button
window.addEventListener('popstate', ()=>{
  if(document.getElementById('shareScreen').classList.contains('open')){ goBack('shareScreen'); }
  else if(document.getElementById('detailScreen').classList.contains('open')){ goBack('detailScreen'); }
});

// Init
renderList();
</script>
</body>
</html>
