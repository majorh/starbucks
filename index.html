<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Zero Sugar Starbucks</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:#0d1a12;--surface:#132019;--card:#1a2d21;--card-hover:#1f3427;
    --green:#00a862;--green-light:#00c975;--green-glow:rgba(0,168,98,.15);
    --cream:#f5f0e8;--muted:#8aab96;--border:rgba(0,168,98,.2);--tag-bg:rgba(0,168,98,.12);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{background:var(--bg);color:var(--cream);font-family:'DM Sans',sans-serif;min-height:100vh;padding-bottom:100px}
  .header{background:linear-gradient(180deg,#0a1510 0%,var(--bg) 100%);padding:48px 20px 28px;text-align:center;position:relative;overflow:hidden}
  .header::before{content:'';position:absolute;top:-60px;left:50%;transform:translateX(-50%);width:300px;height:300px;background:radial-gradient(circle,rgba(0,168,98,.18) 0%,transparent 70%);pointer-events:none}
  .logo-ring{width:60px;height:60px;border:2px solid var(--green);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;font-size:26px;box-shadow:0 0 20px var(--green-glow),inset 0 0 20px var(--green-glow)}
  .header h1{font-family:'Playfair Display',serif;font-size:28px;font-weight:700;letter-spacing:-.5px;line-height:1.2}
  .header h1 span{color:var(--green-light)}
  .header p{color:var(--muted);font-size:12px;margin-top:8px;font-weight:300;line-height:1.5}
  .milk-banner{margin:16px 16px 0;background:rgba(255,180,0,.08);border:1px solid rgba(255,180,0,.25);border-radius:14px;padding:12px 14px;display:flex;gap:10px;align-items:flex-start}
  .milk-banner .mi{font-size:18px;flex-shrink:0;margin-top:1px}
  .milk-banner-text{font-size:11.5px;line-height:1.6;color:var(--cream)}
  .milk-banner-text strong{color:#ffc94d}
  .search-wrap{padding:12px 16px;position:sticky;top:0;z-index:100;background:var(--bg);border-bottom:1px solid rgba(0,168,98,.08)}
  .search-box{position:relative}
  .search-input{width:100%;background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:12px 16px 12px 42px;color:var(--cream);font-family:'DM Sans',sans-serif;font-size:14px;outline:none;transition:border-color .2s}
  .search-input:focus{border-color:var(--green)}
  .search-input::placeholder{color:var(--muted)}
  .search-icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:16px}
  .tabs-wrap{overflow-x:auto;padding:12px 16px 0;-webkit-overflow-scrolling:touch;scrollbar-width:none}
  .tabs-wrap::-webkit-scrollbar{display:none}
  .tabs{display:flex;gap:8px;width:max-content}
  .tab{background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:7px 14px;font-size:12px;font-weight:500;color:var(--muted);cursor:pointer;white-space:nowrap;transition:all .2s;user-select:none}
  .tab.active{background:var(--green);border-color:var(--green);color:#000;font-weight:600}
  .content{padding:16px 16px 0}
  .cat-section{margin-bottom:28px}
  .cat-header{display:flex;align-items:center;gap:10px;margin-bottom:14px}
  .cat-icon{width:34px;height:34px;background:var(--tag-bg);border:1px solid var(--border);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:16px}
  .cat-title{font-family:'Playfair Display',serif;font-size:17px;font-weight:600}
  .cat-count{margin-left:auto;font-size:11px;color:var(--muted);background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:2px 8px}
  .drink-card{background:var(--card);border:1px solid var(--border);border-radius:16px;margin-bottom:10px;overflow:hidden}
  .card-header{display:flex;align-items:stretch;cursor:pointer}
  .card-photo-wrap{width:88px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:34px;background:linear-gradient(135deg,#0d1a12,#1a2d21);border-right:1px solid var(--border);min-height:88px}
  .card-info{flex:1;padding:11px 4px 11px 13px;min-width:0}
  .drink-name{font-weight:600;font-size:14px;color:var(--cream);line-height:1.3;margin-bottom:3px}
  .drink-name.mod{color:var(--green-light)}
  .drink-desc{font-size:11px;color:var(--muted);line-height:1.45;margin-bottom:5px}
  .tags{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:4px}
  .tag{font-size:10px;font-weight:500;padding:2px 7px;border-radius:10px;letter-spacing:.3px}
  .tag-z{background:rgba(0,168,98,.15);color:var(--green-light);border:1px solid rgba(0,168,98,.3)}
  .tag-m{background:rgba(255,180,0,.1);color:#ffc94d;border:1px solid rgba(255,180,0,.25)}
  .tag-h{background:rgba(255,100,50,.1);color:#ff8c6b;border:1px solid rgba(255,100,50,.2)}
  .tag-c{background:rgba(50,150,255,.1);color:#7ab8ff;border:1px solid rgba(50,150,255,.2)}
  .tag-cf{background:rgba(180,130,255,.1);color:#c9a8ff;border:1px solid rgba(180,130,255,.2)}
  .sugar-badge{display:inline-flex;align-items:center;gap:3px;font-size:10px;padding:2px 7px;border-radius:10px}
  .sb-0{background:rgba(0,168,98,.12);color:var(--green-light);border:1px solid rgba(0,168,98,.25)}
  .sb-low{background:rgba(255,180,0,.08);color:#ffc94d;border:1px solid rgba(255,180,0,.2)}
  .chevron{color:var(--muted);font-size:11px;transition:transform .2s;padding:14px 12px 14px 4px;flex-shrink:0;align-self:flex-start}
  .drink-card.expanded .chevron{transform:rotate(180deg)}
  .card-details{display:none;padding:0 14px 14px;border-top:1px solid var(--border);animation:fi .2s ease}
  .drink-card.expanded .card-details{display:block}
  @keyframes fi{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}
  .dl{font-size:10px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--green);margin:12px 0 5px}
  .db{font-size:13px;color:var(--cream);line-height:1.6;background:var(--surface);border-radius:10px;padding:10px 12px;border:1px solid var(--border)}
  .db strong{color:var(--green-light);font-weight:500}
  .note-box{font-size:11.5px;color:var(--muted);margin-top:8px;line-height:1.5;padding:8px 10px;background:rgba(255,180,0,.05);border-left:2px solid rgba(255,180,0,.3);border-radius:0 6px 6px 0}
  .milk-rec{font-size:11.5px;margin-top:10px;padding:9px 11px;background:rgba(0,168,98,.07);border:1px solid rgba(0,168,98,.2);border-radius:8px;line-height:1.5}
  .milk-rec strong{color:var(--green-light)}
  .order-buttons{display:flex;gap:8px;margin-top:12px}
  .btn-order{flex:1;background:var(--green);color:#000;border:none;border-radius:10px;padding:10px;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;transition:all .15s;text-decoration:none}
  .btn-order:active{transform:scale(.97);background:var(--green-light)}
  .btn-icon{background:var(--surface);color:var(--cream);border:1px solid var(--border);border-radius:10px;padding:10px 13px;font-size:16px;cursor:pointer;transition:all .15s}
  .btn-icon:active{background:var(--card-hover)}
  .btn-icon.copied{color:var(--green-light);border-color:var(--green)}
  .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:1000;display:none;align-items:flex-end;justify-content:center}
  .modal-overlay.open{display:flex}
  .modal{background:#132019;border-top:1px solid var(--border);border-radius:20px 20px 0 0;padding:24px 20px;width:100%;max-width:480px;max-height:80vh;overflow-y:auto}
  .modal-handle{width:36px;height:4px;background:rgba(255,255,255,.15);border-radius:2px;margin:0 auto 20px}
  .modal-title{font-family:'Playfair Display',serif;font-size:19px;margin-bottom:5px}
  .modal-sub{font-size:13px;color:var(--muted);margin-bottom:18px}
  .share-preview{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;margin-bottom:18px}
  .sp-name{font-weight:600;font-size:15px;color:var(--green-light);margin-bottom:5px}
  .sp-desc{font-size:11.5px;color:var(--muted);margin-bottom:8px;line-height:1.4}
  .sp-order{font-size:12px;color:var(--cream);background:var(--surface);padding:8px 10px;border-radius:8px;border:1px solid var(--border);line-height:1.5}
  .share-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .share-btn{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:14px 12px;cursor:pointer;text-align:center;transition:all .15s}
  .share-btn:active{background:var(--card-hover);border-color:var(--green)}
  .share-btn .si{font-size:24px;margin-bottom:6px}
  .share-btn .sl{font-size:12px;font-weight:600;color:var(--cream)}
  .share-btn .ss{font-size:10px;color:var(--muted);margin-top:2px}
  .modal-cancel{width:100%;background:transparent;border:1px solid var(--border);border-radius:10px;padding:12px;color:var(--muted);font-family:'DM Sans',sans-serif;font-size:14px;cursor:pointer;margin-top:12px}
  .empty-state{text-align:center;padding:48px 20px;color:var(--muted);display:none}
  .empty-state.visible{display:block}
  .bottom-bar{position:fixed;bottom:0;left:0;right:0;background:rgba(13,26,18,.96);backdrop-filter:blur(12px);border-top:1px solid var(--border);padding:12px 16px;display:flex;align-items:center;justify-content:space-between}
  .bbt{font-size:11px;color:var(--muted);line-height:1.4}
  .btn-app{background:var(--green);color:#000;border:none;border-radius:10px;padding:9px 16px;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;cursor:pointer;white-space:nowrap;text-decoration:none;display:inline-flex;align-items:center;gap:5px}
  .toast{position:fixed;bottom:90px;left:50%;transform:translateX(-50%);background:var(--green);color:#000;padding:9px 18px;border-radius:20px;font-weight:600;font-size:13px;z-index:2000;pointer-events:none;opacity:0;transition:opacity .3s}
  .toast.show{opacity:1}
</style>
</head>
<body>

<div class="header">
  <div class="logo-ring">‚òï</div>
  <h1>Zero Sugar<br><span>Starbucks Guide</span></h1>
  <p>Cross-referenced with the 2025/2026 national menu<br>No added sugars ¬∑ Lowest-sugar milk options</p>
</div>

<div class="milk-banner">
  <div class="mi">‚ö†Ô∏è</div>
  <div class="milk-banner-text">
    <strong>Reality check: Starbucks has no truly unsweetened milk.</strong> All plant-based milks contain added sugar. <strong>Almond milk (~5g/cup)</strong> is the lowest. <strong>Heavy cream (~1g/splash)</strong> is best for near-zero. Each drink shows you the sugar from the milk used.
  </div>
</div>

<div class="search-wrap">
  <div class="search-box">
    <span class="search-icon">üîç</span>
    <input class="search-input" type="text" placeholder="Search drinks..." id="searchInput" oninput="filterDrinks(this.value)">
  </div>
</div>

<div class="tabs-wrap">
  <div class="tabs">
    <div class="tab active" onclick="filterCat('all',this)">All</div>
    <div class="tab" onclick="filterCat('hc',this)">‚òï Hot Coffee</div>
    <div class="tab" onclick="filterCat('ic',this)">üßä Iced Coffee</div>
    <div class="tab" onclick="filterCat('cb',this)">üå¨Ô∏è Cold Brew</div>
    <div class="tab" onclick="filterCat('ht',this)">üçµ Hot Tea</div>
    <div class="tab" onclick="filterCat('it',this)">üßä Iced Tea</div>
    <div class="tab" onclick="filterCat('tl',this)">ü´ñ Tea Lattes</div>
  </div>
</div>

<div class="content" id="mainContent"></div>
<div class="empty-state" id="emptyState"><div style="font-size:40px;margin-bottom:12px">üåø</div><p>No drinks found.</p></div>

<div class="bottom-bar">
  <div class="bbt"><strong style="color:var(--cream)">Ready to order?</strong><br>Open the Starbucks app</div>
  <a class="btn-app" href="#" onclick="openSbux();return false;">Open App ‚Üó</a>
</div>

<!-- Share Modal -->
<div class="modal-overlay" id="shareModal" onclick="if(event.target===this)this.classList.remove('open')">
  <div class="modal">
    <div class="modal-handle"></div>
    <div class="modal-title">Share this drink</div>
    <div class="modal-sub">Send the order to a friend</div>
    <div class="share-preview" id="sharePreview"></div>
    <div class="share-grid">
      <div class="share-btn" onclick="doShare('copy')"><div class="si">üìã</div><div class="sl">Copy Text</div><div class="ss">Paste anywhere</div></div>
      <div class="share-btn" onclick="doShare('native')"><div class="si">üì§</div><div class="sl">Share Sheet</div><div class="ss">Messages, Mail‚Ä¶</div></div>
      <div class="share-btn" onclick="doShare('sms')"><div class="si">üí¨</div><div class="sl">Text Message</div><div class="ss">Open in Messages</div></div>
      <div class="share-btn" onclick="doShare('email')"><div class="si">‚úâÔ∏è</div><div class="sl">Email</div><div class="ss">Open in Mail</div></div>
    </div>
    <button class="modal-cancel" onclick="document.getElementById('shareModal').classList.remove('open')">Cancel</button>
  </div>
</div>
<div class="toast" id="toast"></div>

<script>
const DATA = [
  { cat:'hc', catName:'Hot Coffees', catIcon:'‚òï',
    drinks:[
      { name:'Pike Place / Drip Coffee', e:'‚òï', desc:'Starbucks\' signature medium roast, brewed fresh every 30 minutes. Bold, smooth, and completely clean.', tags:['z','h'], ms:'0g sugar (black)', msc:'sb-0', order:'Pike Place roast, black ‚Äî no milk, no syrup.', app:'Select <strong>Brewed Coffee</strong> ‚Üí Milk: None ‚Üí Sweeteners: remove all.', note:null, mr:null },
      { name:'Caff√® Americano', e:'üñ§', desc:'Espresso diluted with hot water. Bold espresso flavor with a lighter body. Clean and simple.', tags:['z','h'], ms:'0g sugar (no milk)', msc:'sb-0', order:'Caff√® Americano ‚Äî no syrup, no milk.', app:'Select <strong>Caff√® Americano</strong> ‚Üí Milk: None ‚Üí Flavors: remove all.', note:null, mr:null },
      { name:'Espresso Shot(s)', e:'‚ö°', desc:'Pure concentrated espresso. Intensely rich with notes of caramel and dark chocolate. For the purist.', tags:['z','h'], ms:'0g sugar', msc:'sb-0', order:'Double shot of espresso ‚Äî nothing added.', app:'Select <strong>Espresso</strong> from the menu.', note:null, mr:null },
      { name:'Espresso Macchiato', e:'ü§é', desc:'Espresso "marked" with a small dollop of foam. Intense with just a whisper of creaminess.', tags:['z','h'], ms:'~0g sugar (tiny foam)', msc:'sb-0', order:'Espresso Macchiato ‚Äî no syrup.', app:'Select <strong>Espresso Macchiato</strong> ‚Üí Flavors: remove all.', note:null, mr:null },
      { name:'Cappuccino', e:'‚òÅÔ∏è', desc:'Equal parts espresso, steamed milk, and thick foam. The classic Italian caf√© style, made low-sugar.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Cappuccino ‚Äî almond milk, no syrup.', app:'Select <strong>Cappuccino</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: remove all.', note:null, mr:'Almond milk (~5g/cup) is the lowest-sugar steaming milk at Starbucks. Sub <strong>heavy cream</strong> to cut further, though texture will change.' },
      { name:'Caff√® Latte', e:'ü•õ', desc:'Smooth espresso with steamed milk and a light layer of foam. The everyday classic, made clean.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Caff√® Latte ‚Äî almond milk, no syrup.', app:'Select <strong>Caff√® Latte</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: remove all.', note:null, mr:'Almond milk (~5g/cup) is lowest. For near-zero sugar, ask for a <strong>splash of heavy cream</strong> instead (~1g).' },
      { name:'Flat White', e:'üåÄ', desc:'Ristretto shots over velvety microfoam ‚Äî stronger and silkier than a latte, with a bolder punch.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Flat White ‚Äî almond milk, no syrup.', app:'Select <strong>Flat White</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: remove all.', note:null, mr:'Almond milk (~5g) is lowest. Sub <strong>heavy cream splash</strong> for near-zero.' },
      { name:'Caff√® Misto', e:'ü´ó', desc:'Half brewed drip coffee, half steamed milk. Lighter than a latte, with the flavor of a great cup of coffee.', tags:['z','h','m'], ms:'~2.5g sugar (half almond milk)', msc:'sb-low', order:'Caff√® Misto ‚Äî almond milk, no syrup.', app:'Select <strong>Caff√® Misto</strong> ‚Üí Milk: Almond Milk.', note:null, mr:'Half cup of almond milk means only ~2.5g sugar. Sub <strong>half heavy cream</strong> for near-zero.' },
      { name:'Sugar-Free Vanilla Latte', e:'‚ú®', desc:'A sweet, creamy latte without the sugar. Uses sucralose-sweetened vanilla syrup for classic vanilla flavor.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Caff√® Latte ‚Äî almond milk, sugar-free vanilla syrup, no other syrups.', app:'Select <strong>Caff√® Latte</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: Sugar-Free Vanilla Syrup, remove all others.', note:'Sugar-free vanilla is available at most locations but can occasionally be out of stock. If unavailable, ask for a plain almond milk latte or add Stevia/Splenda from the condiment bar.', mr:'Almond milk (~5g). For near-zero: <strong>heavy cream + sugar-free vanilla</strong>.' },
      { name:'Sugar-Free Caramel Latte (New 2026)', e:'üçÆ', desc:'A new addition as of January 2026 ‚Äî sugar-free caramel syrup is now part of the year-round menu!', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Caff√® Latte ‚Äî almond milk, sugar-free caramel syrup, no other syrups.', app:'Select <strong>Caff√® Latte</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: Sugar-Free Caramel Syrup, remove all others.', note:'Sugar-free caramel syrup was added to the year-round menu in January 2026. Availability may still be limited at some locations ‚Äî confirm with your barista.', mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero.' },
      { name:'DIY Sugar-Free Chai Latte', e:'üå∂Ô∏è', desc:'Spiced chai without the 42g of sugar in the standard version. Made with the tea bag instead of the concentrate.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Chai tea bag steeped in steamed almond milk ‚Äî sugar-free vanilla syrup and cinnamon powder.', app:'Select <strong>Hot Tea ‚Üí Chai Tea</strong> and add a note: "Steam with almond milk, add sugar-free vanilla, add cinnamon. No concentrate."', note:'‚ö†Ô∏è The standard Chai Latte uses a pre-sweetened concentrate with 42g of sugar. You must request the tea bag method specifically. Baristas appreciate a heads-up on busy days.', mr:'Almond milk (~5g) works best here for steaming.' },
    ]
  },
  { cat:'ic', catName:'Iced Coffees', catIcon:'üßä',
    drinks:[
      { name:'Iced Caff√® Americano', e:'üñ§', desc:'Bold espresso shots over ice with cold water. Crisp, refreshing, and completely clean.', tags:['z','c'], ms:'0g sugar (no milk)', msc:'sb-0', order:'Iced Caff√® Americano ‚Äî no syrup, no milk.', app:'Select <strong>Iced Caff√® Americano</strong> ‚Üí Milk: None ‚Üí Flavors: remove all.', note:null, mr:null },
      { name:'Iced Caff√® Latte', e:'ü•§', desc:'Espresso and cold milk poured over ice. Smooth and satisfying ‚Äî clean with the right customizations.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Iced Caff√® Latte ‚Äî almond milk, no syrup.', app:'Select <strong>Iced Caff√® Latte</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: remove all.', note:null, mr:'Almond milk (~5g). Sub <strong>heavy cream splash</strong> for near-zero.' },
      { name:'Iced Flat White', e:'üí†', desc:'Ristretto shots over ice ‚Äî more concentrated espresso than an iced latte with a silkier texture.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Iced Flat White ‚Äî almond milk, no syrup.', app:'Select <strong>Iced Flat White</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: remove all.', note:null, mr:'Almond milk (~5g). Sub <strong>heavy cream splash</strong> for near-zero.' },
      { name:'Iced Coffee (Sugar-Free)', e:'üç¶', desc:'Chilled brewed coffee over ice. The default classic syrup is swapped out for sugar-free vanilla.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Iced Coffee ‚Äî almond milk, no classic syrup, sugar-free vanilla syrup.', app:'Select <strong>Iced Coffee</strong> ‚Üí Milk: Almond Milk ‚Üí Sweeteners: remove Classic Syrup ‚Üí Flavors: Sugar-Free Vanilla Syrup.', note:'‚ö†Ô∏è Iced Coffee automatically includes classic syrup. Always confirm "no classic syrup."', mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero.' },
      { name:'Iced Sugar-Free Vanilla Latte', e:'üåü', desc:'Cold espresso with almond milk and sugar-free vanilla over ice. Creamy, subtly sweet, and satisfying.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Iced Caff√® Latte ‚Äî almond milk, sugar-free vanilla syrup, no other syrups.', app:'Select <strong>Iced Caff√® Latte</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: Sugar-Free Vanilla Syrup, remove all others.', note:null, mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero.' },
      { name:'Iced Shaken Espresso (Sugar-Free)', e:'ü•ä', desc:'Espresso shaken with ice for a frothy, diluted texture. Brown sugar replaced with sugar-free vanilla.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Iced Shaken Espresso ‚Äî almond milk, sugar-free vanilla syrup, no brown sugar syrup.', app:'Select <strong>Iced Shaken Espresso</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: remove Brown Sugar Syrup, add Sugar-Free Vanilla Syrup.', note:'‚ö†Ô∏è Brown Sugar Syrup is not available sugar-free and must be removed entirely ‚Äî there is no direct substitute for its flavor.', mr:'Almond milk (~5g). Sub <strong>heavy cream</strong> for near-zero.' },
    ]
  },
  { cat:'cb', catName:'Cold Brew & Nitro', catIcon:'üå¨Ô∏è',
    drinks:[
      { name:'Cold Brew (Black)', e:'üåä', desc:'Slow-steeped 20 hours in cold water. Incredibly smooth with natural sweetness and zero bitterness. Pure.', tags:['z','c'], ms:'0g sugar (black)', msc:'sb-0', order:'Cold Brew ‚Äî black, no classic syrup.', app:'Select <strong>Cold Brew</strong> ‚Üí Milk: None ‚Üí Sweeteners: remove Classic Syrup.', note:'‚ö†Ô∏è Classic syrup is added to Cold Brew by default at many locations. Always say "no classic syrup."', mr:null },
      { name:'Nitro Cold Brew', e:'ü´ß', desc:'Cold brew infused with nitrogen for creamy, velvety texture and natural sweetness ‚Äî zero sugar. One of the best drinks on the entire Starbucks menu.', tags:['z','c'], ms:'0g sugar', msc:'sb-0', order:'Nitro Cold Brew ‚Äî nothing added. Order as-is, no modifications.', app:'Select <strong>Nitro Cold Brew</strong> ‚Äî no modifications needed. Do not add anything.', note:'Available at most corporate Starbucks locations. May not be available at licensed locations (airports, grocery stores, etc.).',  mr:null },
      { name:'Cold Brew + Heavy Cream Splash', e:'üå´Ô∏è', desc:'Cold brew with a pour of heavy cream. Rich, creamy, and near-zero sugar. The best keto-friendly option at Starbucks.', tags:['z','c','m'], ms:'~1g sugar (heavy cream)', msc:'sb-0', order:'Cold Brew ‚Äî splash of heavy cream, no classic syrup.', app:'Select <strong>Cold Brew</strong> ‚Üí Milk: Heavy Cream ‚Üí Sweeteners: remove Classic Syrup.', note:'Heavy cream is the single best low-sugar milk option at Starbucks (~1g per 2 tbsp). Baristas can pour generously ‚Äî say "light splash" if you want less.', mr:null },
    ]
  },
  { cat:'ht', catName:'Hot Teas', catIcon:'üçµ',
    drinks:[
      { name:'Mint Majesty', e:'üåø', desc:'Peppermint and spearmint herbal blend. Refreshing, calming, caffeine-free, and zero sugar.', tags:['z','h','cf'], ms:'0g sugar', msc:'sb-0', order:'Mint Majesty ‚Äî hot water and tea bag only. No syrup.', app:'Select <strong>Mint Majesty</strong> under Hot Teas. No modifications needed.', note:null, mr:null },
      { name:'Peach Tranquility', e:'üçë', desc:'Fruity blend of peach, rose hips, and chamomile. Naturally sweet, caffeine-free, and zero sugar.', tags:['z','h','cf'], ms:'0g sugar', msc:'sb-0', order:'Peach Tranquility ‚Äî hot water and tea bag only. No syrup.', app:'Select <strong>Peach Tranquility</strong> under Hot Teas. No modifications needed.', note:null, mr:null },
      { name:"Emperor's Clouds & Mist", e:'üå´Ô∏è', desc:'Chinese green tea with a delicate, misty flavor. Light and refreshing with a soft vegetal sweetness.', tags:['z','h'], ms:'0g sugar', msc:'sb-0', order:"Emperor's Clouds & Mist ‚Äî hot water and tea bag only. No syrup.", app:"Select <strong>Emperor's Clouds & Mist</strong> under Hot Teas. No modifications.", note:null, mr:null },
      { name:'Royal English Breakfast', e:'ü´ñ', desc:'Robust black tea blend. Full-bodied with a malty richness. The classic morning tea.', tags:['z','h'], ms:'0g sugar', msc:'sb-0', order:'Royal English Breakfast Tea ‚Äî hot water and tea bag only. No syrup.', app:'Select <strong>Royal English Breakfast</strong> ‚Üí Sweeteners: remove all.', note:null, mr:null },
      { name:'Jade Citrus Mint', e:'üçÉ', desc:'Green tea with spearmint, lemongrass, and lemon verbena. Bright, herbal, and refreshing.', tags:['z','h'], ms:'0g sugar', msc:'sb-0', order:'Jade Citrus Mint ‚Äî hot water and tea bag only. No syrup.', app:'Select <strong>Jade Citrus Mint</strong> under Hot Teas ‚Üí Sweeteners: remove all.', note:null, mr:null },
      { name:'Chai Tea (Bag Only)', e:'üå∂Ô∏è', desc:'Plain chai spice tea bag in hot water. Naturally warming with cinnamon, ginger, and cardamom.', tags:['z','h'], ms:'0g sugar', msc:'sb-0', order:'Chai Tea ‚Äî hot water and tea bag only. NOT the Chai Latte.', app:'Select <strong>Chai Tea</strong> under Hot Teas (not Chai Latte). No modifications.', note:'‚ö†Ô∏è The Chai Latte uses a sweetened concentrate with 42g of sugar. Request "plain chai tea bag, just hot water."', mr:null },
    ]
  },
  { cat:'it', catName:'Iced Teas', catIcon:'üßä',
    drinks:[
      { name:'Iced Black Tea (Unsweetened)', e:'üñ§', desc:'Chilled black tea over ice. Bold, slightly tannic, and completely clean when ordered unsweetened.', tags:['z','c'], ms:'0g sugar', msc:'sb-0', order:'Iced Black Tea ‚Äî unsweetened, no classic syrup.', app:'Select <strong>Iced Black Tea</strong> ‚Üí Sweeteners: remove Classic Syrup ‚Üí "Unsweetened."', note:'‚ö†Ô∏è Iced teas come sweetened by default. Always say "unsweetened, no classic syrup."', mr:null },
      { name:'Iced Green Tea (Unsweetened)', e:'üíö', desc:'Light, grassy green tea over ice. Delicate flavor, completely clean when unsweetened.', tags:['z','c'], ms:'0g sugar', msc:'sb-0', order:'Iced Green Tea ‚Äî unsweetened, no classic syrup.', app:'Select <strong>Iced Green Tea</strong> ‚Üí Sweeteners: remove Classic Syrup ‚Üí "Unsweetened."', note:'‚ö†Ô∏è Comes sweetened by default. Always say "unsweetened, no classic syrup."', mr:null },
      { name:'Iced Passion Tango Herbal Tea', e:'üå∫', desc:'Hibiscus, lemongrass, and apple herbal blend over ice. Vibrant, fruity, naturally pink, caffeine-free, and zero sugar.', tags:['z','c','cf'], ms:'0g sugar', msc:'sb-0', order:'Iced Passion Tango Tea ‚Äî unsweetened, no classic syrup.', app:'Select <strong>Iced Passion Tango Tea</strong> ‚Üí Sweeteners: remove Classic Syrup ‚Üí "Unsweetened."', note:'‚ö†Ô∏è Comes sweetened by default. Always say "unsweetened, no classic syrup."', mr:null },
    ]
  },
  { cat:'tl', catName:'Tea Lattes', catIcon:'ü´ñ',
    drinks:[
      { name:'Sugar-Free London Fog Latte', e:'ü´ß', desc:'Earl Grey tea steeped in warm almond milk with sugar-free vanilla. Floral, creamy, and elegantly low-sugar.', tags:['z','h','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'London Fog Tea Latte ‚Äî almond milk, sugar-free vanilla syrup, no regular vanilla syrup.', app:'Select <strong>London Fog Tea Latte</strong> ‚Üí Milk: Almond Milk ‚Üí Flavors: replace Vanilla Syrup with Sugar-Free Vanilla Syrup.', note:null, mr:'Almond milk (~5g) is the lowest-sugar steaming option available.' },
      { name:'DIY Iced Sugar-Free Chai Latte', e:'üßä', desc:'Iced version of the DIY chai. Cold chai spice tea with almond milk and sugar-free vanilla ‚Äî without the 42g of sugar.', tags:['z','c','m'], ms:'~5g sugar (almond milk)', msc:'sb-low', order:'Chai tea bag over ice in almond milk ‚Äî sugar-free vanilla syrup, cinnamon powder.', app:'Order an <strong>Iced Chai Tea Latte</strong> and add a note: "Tea bag method, not concentrate. Almond milk, sugar-free vanilla syrup, cinnamon."', note:'‚ö†Ô∏è Standard Iced Chai Latte uses sweetened concentrate (42g sugar). Request the tea bag method explicitly.', mr:'Almond milk (~5g) is the best cold milk option for this drink.' },
    ]
  },
];

const tagMap = { z:{c:'tag-z',l:'0 Added Sugar'}, h:{c:'tag-h',l:'Hot'}, c:{c:'tag-c',l:'Iced/Cold'}, m:{c:'tag-m',l:'Modified'}, cf:{c:'tag-cf',l:'Caffeine-Free'} };
let activeDrink = null;

function renderAll() {
  const main = document.getElementById('mainContent');
  main.innerHTML = DATA.map(cat => `
    <div class="cat-section" id="cat-${cat.cat}">
      <div class="cat-header">
        <div class="cat-icon">${cat.catIcon}</div>
        <div class="cat-title">${cat.catName}</div>
        <div class="cat-count">${cat.drinks.length}</div>
      </div>
      ${cat.drinks.map(d => renderDrink(d, cat.cat)).join('')}
    </div>
  `).join('');
}

function esc(s){ return s.replace(/'/g,"\\'").replace(/"/g,'&quot;'); }

function renderDrink(d, catId) {
  const tags = d.tags.map(t=>{ const m=tagMap[t]; return m?`<span class="tag ${m.c}">${m.l}</span>`:'';}).join('');
  const nm = d.tags.includes('m') ? 'drink-name mod' : 'drink-name';
  const dJson = esc(JSON.stringify(d));
  return `
  <div class="drink-card" data-cat="${catId}" data-search="${d.name.toLowerCase()} ${d.desc.toLowerCase()}">
    <div class="card-header" onclick="toggle(this.closest('.drink-card'))">
      <div class="card-photo-wrap">${d.e}</div>
      <div class="card-info">
        <div class="${nm}">${d.name}</div>
        <div class="drink-desc">${d.desc}</div>
        <div class="tags">${tags}</div>
        <span class="sugar-badge ${d.msc}">üç¨ ${d.ms}</span>
      </div>
      <div class="chevron">‚ñº</div>
    </div>
    <div class="card-details">
      ${d.mr ? `<div class="milk-rec">ü•õ <strong>Milk note:</strong> ${d.mr}</div>` : ''}
      <div class="dl">How to order</div>
      <div class="db">${d.order}</div>
      <div class="dl">In the Starbucks App</div>
      <div class="db">${d.app}</div>
      ${d.note ? `<div class="note-box">${d.note}</div>` : ''}
      <div class="order-buttons">
        <a class="btn-order" href="#" onclick="openSbux();return false;">‚òï Open App</a>
        <button class="btn-icon" title="Copy order" onclick="doCopy(event,'${esc(d.order)}',this)">üìã</button>
        <button class="btn-icon" title="Share" onclick="openShare(event,'${dJson}')">üì§</button>
      </div>
    </div>
  </div>`;
}

function toggle(el) {
  const exp = el.classList.contains('expanded');
  document.querySelectorAll('.drink-card.expanded').forEach(c=>c.classList.remove('expanded'));
  if(!exp){ el.classList.add('expanded'); setTimeout(()=>el.scrollIntoView({behavior:'smooth',block:'nearest'}),60); }
}

function filterCat(id, tab) {
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  tab.classList.add('active');
  document.getElementById('searchInput').value='';
  document.querySelectorAll('.drink-card').forEach(c=>c.style.display=(id==='all'||c.dataset.cat===id)?'':'none');
  document.querySelectorAll('.cat-section').forEach(s=>s.style.display=(id==='all'||s.id===`cat-${id}`)?'':'none');
  document.getElementById('emptyState').classList.remove('visible');
}

function filterDrinks(q) {
  q = q.toLowerCase().trim();
  document.querySelectorAll('.tab').forEach((t,i)=>i===0?t.classList.add('active'):t.classList.remove('active'));
  let v=0;
  document.querySelectorAll('.cat-section').forEach(s=>s.style.display='');
  document.querySelectorAll('.drink-card').forEach(c=>{
    const m=!q||c.dataset.search.includes(q);
    c.style.display=m?'':'none'; if(m)v++;
  });
  document.querySelectorAll('.cat-section').forEach(s=>{
    s.style.display=Array.from(s.querySelectorAll('.drink-card')).some(c=>c.style.display!=='none')?'':'none';
  });
  document.getElementById('emptyState').classList.toggle('visible',v===0);
}

function doCopy(e, text, btn) {
  e.stopPropagation();
  navigator.clipboard.writeText(text).then(()=>{
    btn.classList.add('copied'); btn.textContent='‚úì';
    setTimeout(()=>{btn.classList.remove('copied');btn.textContent='üìã';},2000);
  }).catch(()=>{btn.textContent='‚úì';setTimeout(()=>btn.textContent='üìã',2000);});
}

function openSbux() {
  const ios=/iPad|iPhone|iPod/.test(navigator.userAgent);
  const and=/Android/.test(navigator.userAgent);
  if(ios){window.location='starbucks://';setTimeout(()=>window.location='https://apps.apple.com/us/app/starbucks/id331177714',1200);}
  else if(and){window.location='intent://open#Intent;scheme=starbucks;package=com.starbucks.mobilecard;end';setTimeout(()=>window.location='https://play.google.com/store/apps/details?id=com.starbucks.mobilecard',1200);}
  else{window.open('https://app.starbucks.com/','_blank');}
}

function openShare(e, dJson) {
  e.stopPropagation();
  const d = JSON.parse(dJson.replace(/&quot;/g,'"'));
  activeDrink = d;
  document.getElementById('sharePreview').innerHTML=`
    <div class="sp-name">${d.e} ${d.name}</div>
    <div class="sp-desc">${d.desc}</div>
    <div class="sp-order">How to order: ${d.order}</div>`;
  document.getElementById('shareModal').classList.add('open');
}

function doShare(method) {
  if(!activeDrink) return;
  const d = activeDrink;
  const text = `‚òï Zero Sugar Starbucks: ${d.name}\n\n${d.desc}\n\nHow to order:\n${d.order}\n\nIn the app:\n${d.app.replace(/<[^>]+>/g,'')}`;
  const sub = `Zero Sugar Starbucks: ${d.name}`;
  document.getElementById('shareModal').classList.remove('open');
  if(method==='copy'){navigator.clipboard.writeText(text).then(()=>toast('Copied to clipboard!'));}
  else if(method==='native'&&navigator.share){navigator.share({title:sub,text}).catch(()=>{});}
  else if(method==='native'){navigator.clipboard.writeText(text).then(()=>toast('Copied ‚Äî paste to share!'));}
  else if(method==='sms'){window.location=`sms:?body=${encodeURIComponent(text)}`;}
  else if(method==='email'){window.location=`mailto:?subject=${encodeURIComponent(sub)}&body=${encodeURIComponent(text)}`;}
}

function toast(msg) {
  const t=document.getElementById('toast');
  t.textContent=msg; t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2500);
}

renderAll();
</script>
</body>
</html>
